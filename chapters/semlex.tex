% !TEX root = ../disertace.tex
%!TEX encoding = UTF-8 Unicode

\chapter{SemLex}
\label{sec:semlex}

\section{Building SemLex – based on the JLRE article}
\label{sec:semlex:build}
Each entry we add into SemLex is considered to be a monosemic MWE. 
We have also added nine special entries to identify NE types, so we do not need to add all the expressions themselves.

\subsection{Named entities}
\emph{Named entities} are a concept originating in information retrieval (??, quote). This concept is well rooted in NLP but it does not exist in classical lexicology and its defining criteria do not correspond with a definition of a lexical unit, lexeme, or any other lexicological or lexicographic concept of our knowledge.

We used the NE classification by \citet{sevcikova:2007} as a starting point. However the definition does not seem like much of a definition at all:
\begin{quote}
\textczech{\em „Pojmenované entity jsou jednotlivá slova nebo slovní spojení, která v textu vystupují jako
pojmenování osob, míst, firem apod. Cílem anotace je označení všech pojmenovaných entit v 
předloženém lineárním textu. Současná anotace bude zaměřena na identifikaci
především těch pojmenovaných entit, které jsou zapsány s velkým počátečním písmenem.“}
\end{quote}

It is however very hard to define named entities. Other authors do not fare much better: \xxx{definice sem!}

We believe we can at least provide some additional constraints to the definition above: To be considered a named entity an expression must share at least some \xxx{or all ??} \emph{features of idioms}: it cannot be an exploitation \citep[see]{hanks:norms}, i.e. it must fulfill some criteria of stability. \xxx{Any more??}

Our types of entities are:
\begin{compactenum}
\item ``a~name of a person or an animal'', 
\item``institution'', 
\item``location'', 
\item``other object'' (used for names of books, units of measurement, biological names of plants and animals), 
\item``address'', 
\item``time'', 
\item``bibliographic entry'', 
\item``foreign expression'' and 
\item``other entity''
\end{compactenum}

Compared to the original the classification is altered, because we do not use embedded entities. In the original \citeauthor{sevcikova:2007} use a bracketing approach in which entities of all types are further structured into smaller parts. We also altered some rules for classifying particular types of entities as follows:
\begin{itemize}
\item  We do not distinguish \emph{names of animals} as a distinct type. Animal names are considered the same type as the names of persons.
\item We also merge the \emph{names of media} (newspapers, TV stations, \ldots) with names of companies. The reasons are mainly: a) it seems arbitrary to distinguish specifically names of media. b) It is also often hard to distinguish wether a name is a name of media or a company that owns or runs the media. At the same time there is usually little reason to try to make this distinction.
\item \emph{Numbers with non-quantifying meaning} are merged with addresses. Since the subtypes defined for this type are \code{zip code}, \code{street number} and \code{phone/fax number}, this merge is quite natural, especially since these occur mostly as parts of addresses and we do not annotate any embedded entities.
\end{itemize}

Some frequent names of persons, institutions or other objects (e.g.~film titles) are being added into SemLex during annotation (while keeping the information about their NE type), because this allows for their following occurrences to be pre-annotated automatically (see Section~\ref{sec:annot:pre}). For others, like addresses or bibliographic entries, it makes but little sense, because they most probably will not reappear during the annotation. 

Currently (for the first stage of lexico-semantic annotation of PDT) SemLex contains only MWEs. Its base has been composed of MWEs extracted from Czech WordNet \citep{smrz:03}, Eurovoc \citep{eurovoc:07} and Dictionary of Czech Phraseology and Idiomatics \citep{cermak:1988}.%
For the explanation of our use of the SČFI subset see point \ref{pre-hnatkova} in Section~\ref{sec:annot:pre} below. 
\xxx{update: Currently there are over 30,000 MWEs in SemLex and more are being added during annotations.}

\xxx{In the current ``compiled'' SemLex there are many collocations that can hardly be considered lexias. However, these frequently occurring collocations are pragmatically quite useful and it may be good to identify them, too.\footnote{We would like to mark these entries in SemLex at some point, so that we know these in fact are not lexias and we do not attempt to create a single t-node for them when they are annotated.} The most important thing is to ensure that they are annotated consistently. They can be useful for machine translation, because, e.g., for those collocations that were extracted from Czech WordNet, there are at our disposal their translations into English (CWN). For the collocations that come from Eurovoc we even have translations into all the official languages ("jednací jazyk" ???) of the European Union.}

The entries added by annotators must have defined their ``sense''. Annotators define it informally (as well as possible) and we extract an example of usage and the basic form from the annotation automatically. The ``sense'' information will be revised by a lexicographer, based on annotated occurrences.


\section{Structure of \semlex}

From the technical point of view, \semlex\ is a simple list of entries. It is stored in YAML format, which makes it easily readable in its source form using any Unicode-aware text editor. Since YAML is a data serialization format and not a markup language, it can also store information needed to represent data as objects in the Perl OO model. 

In addition to the \semlex\ itself we also build an index of basic forms on some special occasions. It is not needed during annotation, so we do not create the index normally but it can be called by passing a second parameter\footnote{The parameter is evaluated as a BOOL type.} to the function \verb=SemLex::load_yaml=. 

\subsection{\semlex\ entry}
An entry is composed of several user-editable attributes, and some read-only and machine-generated metadata:\footnote{By ``user-editable'' we mean in \seman. Everything is of course editable in the YAML format using a text editor, but that is not what a typical user that we have in mind does.} 
\begin{verbatim}
  - !!perl/hash:SemLex_heslo 
    BASIC_FORM: vysoké kruhy
    CREATED: 070115163056
    EXAMPLE: ''
    GLOSS: ''
    ID: 0000017495
    LEMMATIZED: vysoký kruh
    MODIFIED: 090607124212
    MODIFIER: merger
    MORPHO_TAGS: AAIP2----3A---- NNIP2-----A----
    ORIGID: ''
    POS: ''
    SOURCE: SCFI
    SYNONYMS: []
    TREE_STRUCT: "--- []\n\n"
\end{verbatim}

\begin{description} % atributes of a SemLex entry
\item [BASIC\textunderscore{}FORM] -- The basic form of a lexeme. We could call it a ``lemma'' of a lexeme, but we do not find it suitable for several reasons: 
  \begin{itemize}
    \item In many languages including Czech it often contains word forms in other than the basic form for the given word on its own. I.e. ``vysoké učení'' contains a feminine suffix of the adjective ``vysoký'' (high) because of the required agreement in gender with the noun, whereas the traditional lemma of adjectives in Czech is in the masculine form.
    \item  It could be confused with the attribute ``lemmatized'' that means something completely different.
  \end{itemize}

\item [EXAMPLE] -- 

\item [GLOSS] -- 
  
\item [LEMMATIZED] -- ``Lemmatised \code{BASIC\textunderscore{}FORM}'', i.e. take the basic form of an entry and substitute each form with its morphological lemma. This attribute is used for pre-annotation of entries that have not been annotated yet, so their tree structure has yet to be identified. For more details see Section~\ref{sec:annot:pre}  on page \pageref{sec:annot:pre}.

\item [MODIFIER] -- 

\item [MORPHO\textunderscore{}TAGS] -- Morphological tags corresponding to the \code{BASIC\textunderscore{}FORM}. The tags were acquired automatically by running the morphological tagger of Jan Hajič (\citeyear{hajic:2004}). \xxx{k cemu to puvodne bylo? Pri anotaci uz myslim nikdy k nicemu (overit).} 

\item [ORIGID] -- If the entry comes from some other existing dictionary, this is the original ID of the entry in that source dictionary (identified by the attribute \code{SOURCE}).

\item [POS] -- The part of speech of the entry as a unit. Usually it corresponds to the part of speech of the syntactic head of the entry in terms of the underlying tectogrammatic tree structure, but there are some exceptions:
% POS:
  \begin{description}
    \item [N] -- noun; 
    \item [A] -- adjective; 
    \item [V] -- verb; 
    \item [D] -- adverb; 
    \item [I] -- interjection;
    \item [F] -- foreign; often Latin, Greek, but also other idioms that are already ``native'' to the Czech language enough to include them in a dictionary instead of annotating them just as a foreign entity, e.g.~\pr{hip hop, a la, de iure}.
    \item [N/A] -- ``not applicable''; used for peoverbs, sayings, other idioms forming whole sentences, or idioms with unclear part of speech, e.g. \pr{stručně řečeno; stal se kozel zahradníkem, Tady je dobrá rada drahá.}
  \end{description} % end POS

\item [SOURCE] -- 

\item [SYNONYMS] -- 

\item [TREE\textunderscore{}STRUCT] -- The tree structure of an entry. This is a simplified tectogrammatic representation of the entry and is a key to the most advanced pre-annotation that we employ: identification of future occurrences of the same tree structure in the text. This pre-annotation requires \ntred. See discussion of various types of pre-annotation in \Sref{sec:annot:pre}.

\end{description} % end - atributes of a SemLex entry


%%%%%%%%%
\section{Zajímavá hesla \xxx{(provisorni)}}
Some entries seem at the first look just wrong. A class of automobiles is a perfectly compositional collocation with clear syntactic structure, isn't it? However ``automobil nižší střední třídy'' is a different matter.
\begin{verbatim}
 - !!perl/hash:SemLex_heslo 
    BASIC_FORM: třída automobilů
    CREATED: 070926062821
    EXAMPLE: ~
    GLOSS: ~
    ID: 0000003520
    LEMMATIZED: třída automobil
    MODIFIED: 070926062833
    MODIFIER: sidak
    MORPHO_TAGS: ~
    ORIGID: ~
    POS: 'N'
    SOURCE: sidak
    SYNONYMS: []
    TREE_STRUCT: ''
\end{verbatim}

